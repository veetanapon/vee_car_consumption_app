/* =========================
   THEME VARIABLES
========================= */

/* üå§ Light */
:root {
  --bg-app: #f2f3f5;
  --bg-card: #ffffff;
  --bg-soft: #f4f5f7;
  --text-main: #111827;
  --text-sub: #6b7280;
  --border-soft: #e5e7eb;
  --primary: #14b8a6;
  --primary-dark: #0ea5a4;
  --danger: #ff3b30;
  --shadow-sm: 0 2px 6px rgba(0,0,0,.06);
}

/* üåô Dark */
.theme-dark {
  --bg-app: #0f172a;
  --bg-card: #111827;
  --bg-soft: #1f2933;
  --text-main: #e5e7eb;
  --text-sub: #9ca3af;
  --border-soft: #1f2937;
  --primary: #22d3ee;
  --primary-dark: #06b6d4;
  --shadow-sm: 0 2px 8px rgba(0,0,0,.5);
}

/* =========================
   BASE STYLES
========================= */
* {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  background: var(--bg-app);
  color: var(--text-main);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

.container {
  width: 100%;
  max-width: 440px;
  margin: 0 auto;
  padding: 16px;
}

header {
  position: sticky;
  top: 0;
  z-index: 20;
  background: color-mix(in srgb, var(--bg-card) 90%, transparent);
  backdrop-filter: blur(12px);
  padding: calc(14px + env(safe-area-inset-top)) 16px 14px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid var(--border-soft);
}

header h1 {
  font-size: 18px;
  font-weight: 700;
  margin: 0;
}

.noti { position: relative; font-size: 22px; cursor: pointer; }
.badge {
  position: absolute;
  top: -6px;
  right: -8px;
  background: var(--danger);
  color: #fff;
  font-size: 11px;
  border-radius: 999px;
  padding: 2px 6px;
}

main {
  padding: 16px;
  padding-bottom: calc(120px + env(safe-area-inset-bottom));
}

/* =========================
   CAR CARD (COMPACT STYLE)
========================= */
.car-card.compact {
  position: relative;
  display: flex;
  align-items: center;
  gap: 12px;
  border-radius: 16px;
  padding: 10px 36px 10px 10px; /* ‡∏•‡∏î Padding ‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏®‡∏£ ‚Ä∫ */
  background: var(--bg-card);
  cursor: pointer;
  border: none; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡πÇ‡∏ú‡∏•‡πà */
}

/* ‡∏£‡∏π‡∏õ‡∏£‡∏ñ */
.car-thumb {
  width: 80px;
  height: 50px;
  border-radius: 10px;
  overflow: hidden;
  background: var(--bg-soft);
  flex-shrink: 0;
}

.car-thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.car-info {
  flex: 1;
  min-width: 0;
}

/* ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏ñ‡πÅ‡∏•‡∏∞‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô */
.car-header-row {
  display: flex;
  align-items: baseline;
  gap: 6px;
  margin-bottom: 6px;
  white-space: nowrap;
  overflow: hidden;
}

.car-title {
  font-size: 14px;
  font-weight: 700;
  text-overflow: ellipsis;
  overflow: hidden;
}

.car-subtitle {
  font-size: 11px;
  color: var(--text-sub);
  font-weight: 400;
}

/* ‡πÅ‡∏ñ‡∏ß‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ODO ‡πÅ‡∏•‡∏∞ Cost */
.car-stats-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top: 1px solid var(--border-soft);
  padding-top: 4px;
}

.car-stat .label {
  font-size: 10px;
  color: var(--text-sub);
  display: block;
}

.car-stat .value {
  font-size: 12px;
  font-weight: 600;
}

.text-right { text-align: right; }

/* ‡∏•‡∏π‡∏Å‡∏®‡∏£‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏î‡πâ */
.car-card.compact::after {
  content: '‚Ä∫';
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-55%);
  font-size: 18px;
  color: var(--text-sub);
  opacity: .35;
  pointer-events: none;
}

/* =========================
   SWIPE ACTIONS
========================= */
.swipe-wrap {
  position: relative;
  overflow: hidden;
  border-radius: 16px;
  background: var(--bg-card); /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Card */
  margin-bottom: 12px;
  box-shadow: var(--shadow-sm);
  will-change: transform, opacity;
}

.swipe-actions {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 128px;
  display: flex;
  z-index: 1;
}

.swipe-btn {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  background: var(--bg-card); /* ‡πÉ‡∏ä‡πâ‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Card ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô */
  transition: all 0.2s ease;
}

swipe-btn.edit { 
  color: var(--text-sub); /* ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏™‡∏µ‡πÄ‡∏ó‡∏≤ */
}
.swipe-btn.edit:hover {
  color: #3b82f6; /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ Hover */
}

.swipe-btn.delete { 
  color: var(--text-sub); /* ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏™‡∏µ‡πÄ‡∏ó‡∏≤ */
}
.swipe-btn.delete:hover {
  color: #ef4444; /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÅ‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠ Hover */
}

/* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î SVG ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏õ‡∏∏‡πà‡∏° */
.swipe-btn svg {
  opacity: 0.6; /* ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏à‡∏≤‡∏á‡πÜ Minimal */
  transition: opacity 0.2s ease;
}

.swipe-btn:hover svg {
  opacity: 1;
}

/* ‡πÄ‡∏™‡πâ‡∏ô‡∏Ñ‡∏±‡πà‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ö‡∏ö‡∏ö‡∏≤‡∏á‡∏°‡∏≤‡∏Å */
.swipe-btn.edit {
  border-right: 1px solid var(--border-soft);
}

.swipe-content {
  position: relative;
  z-index: 2;
  background: var(--bg-card);
  width: 100%;
  border-radius: 0; 
  transition: transform .25s cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* =========================
   UI ELEMENTS
========================= */
.fab {
  position: fixed;
  right: calc(20px + env(safe-area-inset-right));
  bottom: calc(20px + env(safe-area-inset-bottom));
  width: 64px; height: 64px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: #fff; font-size: 34px; border: none; cursor: pointer;
  box-shadow: 0 12px 30px color-mix(in srgb, var(--primary) 40%, transparent), 0 4px 10px rgba(0,0,0,.25);
  z-index: 50;
}

.fab:active { transform: scale(.94); }

.sheet {
  position: fixed; left: 0; right: 0; bottom: 0;
  background: var(--bg-card);
  border-radius: 24px 24px 0 0;
  transform: translateY(100%);
  transition: transform .3s ease;
  box-shadow: 0 -12px 40px rgba(0,0,0,.18);
  z-index: 100;
}

.sheet.show { transform: translateY(0); }

.sheet-header {
  padding: 16px; font-weight: 700;
  display: flex; justify-content: space-between; align-items: center;
  position: relative;
}

.sheet-header button {
  background: none; border: none; font-size: 20px;
  color: #9ca3af; cursor: pointer;
}

.sheet-body {
  padding: 16px;
  padding-bottom: calc(24px + env(safe-area-inset-bottom));
}

.sheet input, .sheet select {
  width: 100%; padding: 12px 14px; border-radius: 14px;
  border: 1px solid var(--border-soft); background: var(--bg-soft);
  color: var(--text-main); margin-bottom: 12px; font-size: 15px;
}

.sheet-body button {
  width: 100%; padding: 14px; border-radius: 16px; border: none;
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: #fff; font-size: 16px; font-weight: 600;
}

.hidden { display: none !important; }

.image-preview {
  width: 100%; max-height: 200px; object-fit: cover;
  border-radius: 14px; margin-bottom: 12px;
}

/* =========================
   SKELETON LOADER
========================= */
.skeleton {
  animation: pulse 1.4s ease-in-out infinite;
  background: linear-gradient(90deg, var(--bg-soft) 25%, var(--border-soft) 37%, var(--bg-soft) 63%);
  background-size: 400% 100%;
}

@keyframes pulse {
  0% { background-position: 100% 50%; }
  100% { background-position: 0 50%; }
}

.car-card.skeleton-card {
  display: flex; gap: 12px; padding: 10px; margin-bottom: 10px;
  border-radius: 16px; background: var(--bg-card);
}

.skeleton-thumb { width: 56px; height: 50px; border-radius: 10px; }
.skeleton-line { height: 12px; border-radius: 6px; margin-bottom: 8px; }
.skeleton-line.short { width: 60%; }
.skeleton-line.long { width: 90%; }